#AUTOGENERATED HYPR CONFIG.
#PLEASE USE THE CONFIG PROVIDED IN THE GIT REPO /examples/hypr.conf AND EDIT IT,
#OR EDIT THIS ONE ACCORDING TO THE WIKI INSTRUCTIONS.

#
# Please note not all available settings / options are set here.
# For a full list, see the wiki
#
#source=~/.cache/wal/colors-hyprland.conf
# See https://wiki.hyprland.org/Configuring/Monitors/
monitor=,highres,auto,1
monitor=HDMI-A-1,1280x800@60,1920x0,1
xwayland {
	force_zero_scaling = true
}
# See https://wiki.hyprland.org/Configuring/Keywords/ for more

# Execute your favorite apps at launch
# exec-once = waybar & hyprpaper
$change-wal = ~/dotfiles/scripts/wals.sh
exec-once = systemctl --user import-environment DISPLAY WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
#exec-once = swaync -s ~/dotfiles/scripts/swaync/mocha.css
exec-once = fcitx -d
# exec-once = sleep 1 && waybar -c ~/dotfiles/waybar/config.jsonc -s ~/dotfiles/waybar/style.css
exec-once = sleep 1 && ags
exec-once = swww init
#exec-once = ~/dotfiles/scripts/wals.sh
exec-once = wl-clipboard-history-git -h; wl-paste --watch cliphist store;
exec-once = rm "$HOME/.cache/cliphist/db"
exec-once = lxpolkit
exec-once = libinput-gestures-setup start
exec-once=dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = wl-paste --type text --watch cliphist store #Stores only text data
exec-once = wl-paste --type image --watch cliphist store #Stores only image data
exec-once = nm-applet
exec-once = blueman-applet
exec-once = /usr/lib/polkit-kde-authentication-agent-1
exec-once = systemctl start bluetooth.service
exec-once = ~/dotfiles/scripts/battery-check.sh
exec-once = hypridle


# Source a file (multi-file configs)
# source = ~/.config/hypr/myColors.conf

# recording stuff
$record = ags -r 'recorder.start()'

# screenshots
$ss_fullscrn = ags -r 'recorder.screenshot(true)'
$ss_window = ags -r 'recorder.screenshot()'

# browser
$browser = floorp
$private = floorp --private-window

# ags stuff
$ags = ags
$apps = ags -t launcher
$workspace = ags -t overview
$profile = ags -t quicksettings
$ags_power = ags -t powermenu
$notifications = ags -t datemenu

# file managers
$fileManager = dolphin --platformtheme kde
$superfile = kitty --config /home/s1dd/.config/kitty/kitty.conf superfile

# sound stuff
$ee = flatpak run com.github.wwmm.easyeffects
$soundsettings = helvum
$mute = amixer set Master toggle

# bluetooth stuff
$bt = ~/dotfiles/scripts/bluetooth.sh
$bt_off = bluetoothctl power off
$btm = bluetoothctl power on && blueman-manager

# backlight
$backlight_inc = brightnessctl s 20%+
$backlight_dec = brightnessctl s 20%-

# battery
$battery = ~/dotfiles/scripts/battery.sh

# tlp
$tlp = tlpui

# kde apps
$settings = systemsettings --platformtheme kde
$calc = kcalc --platformtheme kde
$gwen = gwenview --platformtheme kde

# rofi
$menu = rofi -show drun -theme "~/dotfiles/scripts/rofi/nova-dark.rasi"

# misc apps
$discord = vesktop
$spotify = spotify-launcher

# wallpaper stuff
$beauty = ~/dotfiles/scripts/good-wal.sh

# btop
$taskbar = kitty --config /home/s1dd/.config/kitty/kitty.conf btop

# terminal stuff
$terminal = kitty --config /home/s1dd/.config/kitty/kitty.conf
$anime = kitty --config ~/.config/kitty/kitty.conf ani-cli
$music = kitty --config /home/s1dd/.config/kitty/kitty.conf cmus

# misc
$waybar = waybar -c dotfiles/waybar/config.jsonc -s dotfiles/waybar/style.css
#$bt = bluetoothctl power on && blueman-manager
$rate = pw-metadata -n settings 0 clock.force-rate 96000
$emote = flatpak run com.tomjwatson.Emote
#$lock = ~/dotfiles/scripts/locker.sh
$logout = wlogout --layout dotfiles/wlogout/layout --css dotfiles/wlogout/style.css
$conf = code .config/hypr/hyprland.conf /home/s1dd/.superfile/config/config.json /home/s1dd/dotfiles/scripts/wals-change.sh
# $brave = brave-nightly
$lockscreen = hyprlock
# Some default env vars.
env = XCURSOR_SIZE,12
env = QT_QPA_PLATFORMTHEME,qt5ct # change to qt6ct if you have that

# For all categories, see https://wiki.hyprland.org/Configuring/Variables/
input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 1

    touchpad {
        natural_scroll = no
    }

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}

$defaultcol = 33ccffee 00ff99ee

general {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more

    gaps_in = 3
    gaps_out = 10
    border_size = 2

    layout = dwindle
    col.active_border = rgba(BfF5edbd)
    # col.active_border = 45deg rgba(191,169,255) rgba(120,87,255)
    col.inactive_border = rgba(22222288)

    # Please see https://wiki.hyprland.org/Configuring/Tearing/ before you turn this on
    allow_tearing = false
}

decoration {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    inactive_opacity = 0.78
    active_opacity = 0.9
    rounding = 10
    
    blur {
        ignore_opacity = true
        enabled = true
        brightness = 0.8
        vibrancy = 2.1
        size = 2
        passes = 5
        popups = 1
    }

    drop_shadow = yes
    shadow_range = 20
    shadow_render_power = 3
    dim_inactive = yes
    dim_strength = 0.45
}

animations {
    enabled = yes
    bezier=overshot,0.05,0.9,0.1,1.1
    bezier=overshot,0.13,0.99,0.29,1.
    animation=windows,1,7,overshot,slide
    animation=border,1,10,default
    animation=fade,1,10,default
    animation=workspaces,1,7,overshot,slidevert
}

dwindle {
    # See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = yes # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
    preserve_split = yes # you probably want this
}

master {
    # See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
    new_is_master = true
}

gestures {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    workspace_swipe = on
    workspace_swipe_forever = true
    workspace_swipe_cancel_ratio = 0.1
}

misc {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    force_default_wallpaper = 0 # Set to 0 to disable the anime mascot wallpapers
    focus_on_activate = true
}

# Example per-device config
# See https://wiki.hyprland.org/Configuring/Keywords/#executing for more
# device:epic-mouse-v1 {
#     sensitivity = -0.5
# }

# Example windowrule v1
windowrule = float, ^(rofi)$
# Example windowrule v2
# windowrulev2 = float,class:^(kitty)$,title:^(kitty)$
# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
#windowrulev2 = nomaximizerequest, class:.* # You'll probably like this.
windowrulev2 = opacity 0.9 override 0.85 override,class:(floorp)
windowrulev2 = tile,class:(floorp)
windowrulev2 = tile,class:(brave-nightly)
windowrulev2 = rounding 5,class:(floorp)
windowrulev2 = rounding 30,title:(rofi - Apps)
windowrulev2 = rounding 30,title:(rofi - dmenu)
windowrulev2 = opacity 0.85 override 0.6 override,title:(rofi - Apps)
#windowrulev2 = inactive_opacity 0.9,title:(rofi - Apps)
windowrulev2 = opacity 0.95 override 0.6 override,class:(brave-nightly)
windowrulev2 = opacity 0.95 override 0.85 override,title:(Kate)
windowrulev2 = opacity 0.9 override 0.85 override,class:(vesktop)
windowrulev2 = opacity 0.9 override 0.78 override,class:(heroic)
windowrulev2 = opacity 0.95 override 0.85 override,class:(okular)
windowrulev2 = opacity 0.95 override 0.85 override,title:(satty)
windowrulev2 = stayfocused,title:(satty)
windowrulev2 = stayfocused,title:(rofi)
windowrulev2 = stayfocused,title:(rofi - dmenu)
windowrulev2 = minsize 30% override 100% override,title:(satty)
windowrulev2 = opacity 0.89 override 0.75 override,class:(Code)
windowrulev2 = opacity 0.8 override 0.7 override,class:(jetbrains)
windowrulev2 = opacity 0.99 override 0.95 override,class:(scrcpy)
windowrulev2 = opacity 0.99 override 0.95 override,class:(Editors)
# windowrulev2 = opacity 0.6 override 0.5 override,class:(kitty)
windowrulev2 = nodim, class:(kitty)
windowrulev2 = nodim, class:(cava)
windowrulev2 = nodim, title:(cava)
windowrulev2 = size 1896 35, class:(cava)
windowrulev2 = pin, class:(cava)


layerrule = blur ,waybar

# See https://wiki.hyprland.org/Configuring/Keywords/ for more
$mainMod = SUPER

# Apps
bind = $mainMod, D, exec, $discord
bind = $mainMod, space, exec, $browser
bind = SUPER_ALT, space, exec, $private

# screenshot config
bind = $mainMod, Print, exec, $ss_window
bind = ,Print, exec, $ss_fullscrn

# kde apps
bind = $mainMod, escape, exec, $settings
bind = $mainMod, A, exec, $profile

#ags
bind = $mainMod SHIFT, W, exec, $ags
bind = $mainMod, C, exec, $apps
bind = $mainMod SHIFT, L, exec,$ags_power
bind = $mainMod, W, exec, $workspace
bind = $mainMod, O, exec, $record
bind = $mainMod, N, exec, $notifications

#waybar (for systeminfo)
bind = $mainMod, K, exec, $waybar
bind = $mainMod, H, exec, killall waybar

#battery
bind = SUPER_SHIFT, B, exec, $battery

# tlp
bind = $mainMod SHIFT, P, exec, $tlp

# wallpapers
bind = $mainMod, R, exec, ~/dotfiles/scripts/wals-change.sh
bind = $mainMod SHIFT, R, exec, $beauty
bind = $mainMod ALT, R, exec, $change-wal

# Clipboard
bind=SUPER,V,exec,cliphist list | rofi -dmenu -theme "~/dotfiles/rofi/clipboard.rasi" | cliphist decode | wl-copy

# Logout
bind=$mainMod SHIFT, Q, exec, $logout
bind = $mainMod, L, exec, $lockscreen

# mail
bind = $mainMod SHIFT, space, exec, floorp --new-window=https://mail.google.com/mail/u/1/

# Headphones
bindl = $mainMod, B, exec, $bt
bind = CTRL SHIFT , S, exec, $soundsettings

#Misc
bind=$mainMod, X, exec, $conf
bind=$mainMod SHIFT, J, exec, $backlight_inc
bind=$mainMod SHIFT, K, exec, $backlight_dec
bind=CTRL, escape, exec, $taskbar
bind = SUPER_SHIFT, A, exec, $anime
bind = , F12, exec, $calc

# Media
bindle=, XF86AudioRaiseVolume, exec, amixer -q sset Master 2%+
bindle=, XF86AudioLowerVolume, exec, amixer -q sset Master 2%-
bind=, F1, exec, $mute
bindl= , home, exec, playerctl play-pause
bindl= CTRL, right, exec, playerctl next
bindl= CTRL, left, exec, playerctl previous

# brightness
bindle=, XF86MonBrightnessUp, exec, brightnessctl s 5%+
bindle=, XF86MonBrightnessDown, exec, brightnessctl s 5%-

# media apps
bind = $mainMod, Z, exec, $music
bind = $mainMod, S, exec, $spotify


# bind = $mainMod, C, exec, $rate
# bind = $mainMod, code:60, exec, $emote
# bind=$mainMod, M, exec, $mute
# Example binds, see https://wiki.hyprland.org/Configuring/Binds/ for more
bind = ALT, TAB, exec, $terminal
bind = $mainMod, Q, killactive,
bind = $mainMod ALT, M, movetoworkspacesilent, 10

# file managers
bind = $mainMod, E, exec, $superfile
bind = $mainMod SHIFT, E, exec, $fileManager

# window properties
bind = $mainMod SHIFT, V, togglefloating,
bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod, J, togglesplit, # dwindle
bind = $mainMod, F, fullscreen
bind = $mainMod, G, toggleopaque

# bluetooth
bind = $mainMod CTRL, B, exec, $btm
bind = $mainMod ALT, B, exec, $bt_off

# bind = $mainMod SHIFT, space, exec, $brave

# Move focus with mainMod + arrow keys
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

# Switch workspaces with mainMod + [0-9]
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

# Example special workspace (scratchpad)
bind = $mainMod, TAB, togglespecialworkspace, magic
bind = $mainMod ALT, M, movetoworkspace, special:magic

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod SHIFT, up, workspace, e+1
bind = $mainMod SHIFT, down, workspace, e-1

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
